# ============================================================================
# ENVIRONMENT
# ============================================================================
ENVIRONMENT=local  # local, dev, staging, prod

# ============================================================================
# API CONFIGURATION
# ============================================================================
INTERNAL_API_KEY=your-secret-api-key-here

# ============================================================================
# OPENAI CONFIGURATION
# ============================================================================
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_CHAT_MODEL=gpt-4o
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ============================================================================
# QDRANT VECTOR DATABASE
# ============================================================================
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=documents
QDRANT_API_KEY=  # Optional, leave empty for local

# ============================================================================
# REDIS CONFIGURATION (NEW - for persistent memory)
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=  # Optional, leave empty for local Redis without password
REDIS_TTL_SECONDS=604800  # 7 days (conversation expiration time)

# ============================================================================
# LANGGRAPH CONFIGURATION (NEW)
# ============================================================================
ENABLE_LANGGRAPH_PERSISTENCE=true  # Enable persistent conversation memory
MAX_AGENT_ITERATIONS=10  # Maximum reasoning iterations to prevent infinite loops

# ============================================================================
# LANGSMITH OBSERVABILITY (OPTIONAL)
# ============================================================================
LANGCHAIN_TRACING_V2=false  # Set to true to enable LangSmith tracing
LANGCHAIN_API_KEY=  # Your LangSmith API key (get from https://smith.langchain.com)
LANGCHAIN_PROJECT=agentic-backend  # Project name in LangSmith

# ============================================================================
# RAG CONFIGURATION
# ============================================================================
RAG_TOP_K=5  # Number of documents to retrieve
RAG_SCORE_THRESHOLD=0.7  # Minimum similarity score
CHUNK_SIZE=1000  # Document chunk size in characters
CHUNK_OVERLAP=200  # Overlap between chunks

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# BACKGROUND JOBS (OPTIONAL - for future Celery integration)
# ============================================================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ============================================================================
# OPENTELEMETRY / JAEGER (for distributed tracing)
# ============================================================================
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4317